<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMOOLID</title>

  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-kopubworld@1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../shop.css">
  <link rel="stylesheet" href="emotion_page.css">
  <link rel="stylesheet" href="../font.css">
  
</head>
<body class="home">
  <header>
    <nav class="nav">
      <ul>
        <li><a href="../about.html" class="nav-link">About</a></li>
        <li><a href="../shop.html" class="nav-link active">Shop</a></li>
        <li><a href="../faq.html" class="nav-link">FAQ</a></li>
        <li><a href="../event.html" class="nav-link">Studio</a></li>
      </ul>
    </nav>
  </header>

  <div class="logo"> 
    <a href="../index.html">
      <img src="../logo.png" alt="Logo" class="logo-img" />
    </a>
  </div>

  <div class="image-stack"> 
    <img src="../find.svg" alt="Find" class="icons-img" />
    <img src="../user.svg" alt="User" class="icons-img" />
    <img src="../shopping.svg" alt="Shopping" class="icons-img" />
  </div>

  <!-- Product Section -->
  <div class="product-container">
    <div class="product-left">
      <div class="preview-left">
        <div class="thumbnails">
          <img src="inspire/inspire_detail1.svg" class="thumb active" onclick="changeImage(this, 'main-display')" />
          <img src="inspire/inspire_detail2.svg" class="thumb" onclick="changeImage(this, 'main-display')" />
          <img src="inspire/inspire_detail3.svg" class="thumb" onclick="changeImage(this, 'main-display')" />
        </div>
      </div>

      <div class="main-image">
        <img id="main-display" src="inspire/inspire_detail1.svg" alt="ë©”ì¸ ì´ë¯¸ì§€" />
        <div class="like">
        </div>
      </div>
    </div>

    <div class="product-detail">
      <h2 class="product-name">ì˜ê°ì²´ <span class="product-name-en">Inspire</span></h2>
      <div class="product-price">25,000ì›</div>

      <div class="delivery-info">
        <p>ë°°ì†¡ë¹„ <span class="delivery-cost">3,000ì› (50,000ì› ì´ìƒ êµ¬ë§¤ ì‹œ ë¬´ë£Œ)</span></p>
        <p class="delivery-sub">ì œì£¼ ë° ë„ì„œ ì‚°ê°„ 3,000ì› ì¶”ê°€</p>
      </div>

      <div class="quantity-box">
        <span class="label">ìˆ˜ëŸ‰</span>
        <div class="quantity-control">
          <button class="quantity-btn">-</button>
          <span class="quantity-value">1</span>
          <button class="quantity-btn">+</button>
        </div>
      </div>

      <div class="total-price-wrap">
        <p class="total-label">ì´ ìƒí’ˆê¸ˆì•¡ <span class="total-count">(1ê°œ)</span></p>
        <p class="total-price">25,000ì›</p>
      </div>

      <div class="action-buttons">
        <a href="#"><img src="buy_btn.png" alt="êµ¬ë§¤í•˜ê¸° ë²„íŠ¼" class="button-img" /></a>
        <a href="#"><img src="cart_btn.png" alt="ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼" class="button-img" /></a>
      </div>
    </div>
  </div>

<!-- ------------------------------------------------- -->

<div class="shop-category-nav2">
    <ul>
     <li><a href="#"><img src="shop_button_detail.png" alt="ìƒì„¸ì •ë³´" /></a></li>
      <li><a href="#">ë¦¬ë·°</a></li>
      <li><a href="#">Q & A</a></li>
    </ul>
</div>

<div class="texture-background">
  <div class="texture-text" data-bg = "inspire/inspire_texture.png">
    INSPIRE
  </div>
</div>

<div class="inspire-background">
  <div class="detail-container">
    <div class="icon-wrapper">
      <img src="inspire/inspire_background.png" alt="inspire Background" class="background" />
      <img src="inspire/inspire_icon.png" alt="inspire Icon" class="icon" />
    </div>
  </div>

  <div class="emotion-description">
    <h2 class="emotion-title">ì˜ê°ì²´</h2>
    <p class="emotion-subtitle">Inspire</p>
    <p class="emotion-text">
      ì˜ê°ì²´ëŠ” ë‚´ë©´ì—ì„œ í„°ì ¸ë‚˜ì˜¤ëŠ” ë°ê³  ì°¬ë€í•œ ë¹›ì˜ ëª¨ì–‘ì„ ê°€ì§„ ê°ì •ì˜ ë¬¼ì„±ì…ë‹ˆë‹¤.<br />
      í˜•íƒœëŠ” ì‚¬ì„ ìœ¼ë¡œ ë»—ì–´ë‚˜ê°€ë©°, ë‹¤ì–‘í•œ ë¹›ê¹”ì˜ ìƒ‰ìƒì´ ëŠì„ì—†ì´ ì›€ì§ì´ë©° ìƒˆë¡œìš´ í˜•íƒœë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤<br />
      ì„ ëª…í•œ ìƒ‰ì´ ê³µê°„ ì†ì„ ë¹ ë¥´ê²Œ ì§ˆì£¼í•˜ë©°, ë¶ˆê·œì¹™í•˜ì§€ë§Œ ì¡°í™”ë¡œìš´ ê´‘ì±„ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.<br />
      ì´ëŠ” ì–´ë‘  ì†ì—ì„œë„ ë°ê²Œ ë¹›ë‚˜ ë³´ëŠ” ì´ì—ê²Œ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ë– ì˜¤ë¥´ê²Œ í•©ë‹ˆë‹¤.
    </p>
  </div>
</div>

<div class="detail-section" data-bgcolor="#E2E0FF">
  <div class="detail-left">
    <h3 class="detail-title">Click to detail</h3>
    <p class="detail-sub">ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬<br>ì„¤ë ˜ì²´ì˜ í–¥, ë§›, ì‚¬ìš©ì‹œê°„ì— ëŒ€í•´ ìì„¸í•˜ê²Œ ì•Œì•„ë³´ì„¸ìš”</p>

    <div class="detail-buttons">
      <img src="scent_off.png" alt="Scent Button" class="detail-btn" data-type="scent" onclick="changeDetail('scent', this)"/>
      <img src="taste_off.png" alt="Taste Button" class="detail-btn" data-type="taste" onclick="changeDetail('taste', this)" />
      <img src="hour_off.png" alt="Hour Button" class="detail-btn selected" data-type="hour" onclick="changeDetail('hour', this)"/>
    </div>
  </div>

  <div class="detail-right">
    <img id = "detail-image" src="flutter_explain.png" alt="ì‹œê°„ ë° íê¸° ë°©ë²• ì„¤ëª…" class="detail-img" />
  </div>
</div>

<div class="Interectative-description">
  <h2 class="Interectative-zone-title">Interactive Zone</h2>
  <p class="Interectative-zone-text">ê°ì„±ì˜ ë¬¼ì„±ì„ 360ë„ë¡œ êµ¬ê²½í•´ ë³´ì„¸ìš”</p>
</div>

<div>
  <div class="obj3d-container">
    <img src="inspire/inspire_obj_background.png" alt="3D Object" class="background3d-img" />
    <canvas id="canvas"></canvas>
  </div>
</div>

<div class="background-container" data-bgcolor="#F2FFC5">
  <div class="box-container">
    <img src="inspire/inspire package.png" alt="Flutter Box" class="flutter-box" />
  </div>
  <div class="background-text-wrapper">
    <div class="flutter-text flutter-1" data-txtcolor = "#AEFEE8">Inspire</div>
    <div class="flutter-text flutter-2" data-txtcolor = "#AEFEE8">Inspire</div>
    <div class="flutter-text flutter-3" data-txtcolor = "#AEFEE8">Inspire</div>
  </div>
</div>

<div class="how-to-use-container">
  <h1 class="how-to-title">How to Use?</h1>
  <img src="inspire/how2use.png" alt="How to Use" class="how-to-use" />
</div>

<!--caution -->
<section class="caution-section">
  <h2 class="caution-title">Caution</h2>
  <p class="caution-subtitle">ê°ì •ì˜ ë¬¼ì„±ì„ ì‚¬ìš©í•˜ê¸° ì „, ì£¼ì˜ì‚¬í•­ì„ ê¼­ ì½ì–´ì£¼ì„¸ìš”</p>

  <div class="caution-cards">
    <div class="caution-card">
      <img src="inspire/caution 01 - deactivate.png" class="card-img" data-hover="inspire/caution 01 - activate.png" alt="ê°ì • ê³¼ì‰ íœ˜ì‚¬ í˜„ìƒ" />
    </div>
    <div class="caution-card">
      <img src="inspire/caution 02 - deactivate.png" class="card-img" data-hover="inspire/caution 02 - activate.png" alt="í˜„ì‹¤ ê°ê° ì €í•˜" />
    </div>
    <div class="caution-card">
      <img src="inspire/caution 03 - deactivate.png" class="card-img" data-hover="inspire/caution 03 - activate.png" alt="ê°ì •ì˜ ë¬¼ì„± ë³€í˜•" />
    </div>
  </div>
</section>

<div class="notive-container">
  <img src="flutter_buttons/notice.png" alt="Notice" class="notive-img" />
</div>

<section class="product-section">
  <h2 class="product-title">Products</h2>
  <p class="product-subtitle">ì˜ê°ì²´ì™€ ê´€ë ¨ëœ ë‹¤ë¥¸ ê°ì •ë“¤ë„ êµ¬ê²½í•´ ë³´ì„¸ìš”</p>

  <div class="product-list">
    <a href="flutter.html" class="product-item">
      <img src="product-background.png" alt="í–‰ë³µì²´ ì¹´ë“œ" class="product-bg" />
      <img src="flutter_front.png" alt="í–‰ë³µì²´ ì˜¤ë¸Œì œ" class="product-overlay" />
      <div class="product-info">
        <div class="other-product-name">
          <span class="main-name">[ê°ì •ì˜ ë¬¼ì„±] ì„¤ë ˜ì²´</span>
          <span class="sub-name">Flutter</span>
        </div>
        <div class="product-price">25,000</div>
      </div>
    </a>

    <a href="#" class="product-item">
      <img src="product-background.png" alt="í–‰ë³µì²´ ì¹´ë“œ" class="product-bg" />
      <img src="happiness_icon.png" alt="í–‰ë³µì²´ ì˜¤ë¸Œì œ" class="product-overlay" />

      <div class="product-info">
        <div class="other-product-name">
          <span class="main-name">[ê°ì •ì˜ ë¬¼ì„±] í–‰ë³µì²´</span>
          <span class="sub-name">Happiness</span>
        </div>
        <div class="product-price">25,000</div>
      </div>
    </a>

    <a href="relex.html" class="product-item">
      <img src="product-background.png" alt="í¸ì•ˆì²´ ì¹´ë“œ" class="product-bg" />
      <img src="relex/relex_icon.png" alt="í¸ì•ˆì²´ ì˜¤ë¸Œì œ" class="product-overlay" />

      <div class="product-info">
        <div class="other-product-name">
          <span class="main-name">[ê°ì •ì˜ ë¬¼ì„±] í¸ì•ˆì²´</span>
          <span class="sub-name">Relex</span>
        </div>
        <div class="product-price">25,000</div>
      </div>
    </a>
  </div>
</section>


    <div>
        <img src="../info.png" alt = "info" class="footer-img" />
    </div>


  <!---------------- script -------------------------->
<script type="importmap">
{
  "imports": {
    "three": "https://unpkg.com/three@0.141.0/build/three.module.js",
    "GLTFLoader": "https://unpkg.com/three@0.141.0/examples/jsm/loaders/GLTFLoader.js",
    "OrbitControls": "https://unpkg.com/three@0.141.0/examples/jsm/controls/OrbitControls.js"
  }
}
</script>

<script type="module">
import * as THREE from 'three';
import { GLTFLoader } from 'GLTFLoader';
import { OrbitControls } from 'OrbitControls';

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(30, 1, 0.1, 1000);

const renderer = new THREE.WebGLRenderer({
  canvas: document.querySelector("#canvas"),
  antialias: true,
  alpha: true
});
renderer.setSize(1000, 1000);

const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(0, 10, 10);
scene.add(light);

const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.enableZoom = false;
controls.enablePan = false;

const loader = new GLTFLoader();
loader.load('flutter_buttons/flutter_cm.gltf', (gltf) => {
  const model = gltf.scene;

  // âœ… 1. ìŠ¤ì¼€ì¼ ë¨¼ì € ì ìš©
  model.scale.set(2.0, 2.0, 2.0);

  // âœ… 2. ë°•ìŠ¤ ê¸°ì¤€ ì¤‘ì‹¬ ê³„ì‚° (ìŠ¤ì¼€ì¼ ë°˜ì˜ëœ ìƒíƒœ)
  const box = new THREE.Box3().setFromObject(model);
  const center = box.getCenter(new THREE.Vector3());
  const size = box.getSize(new THREE.Vector3());

  // âœ… 3. ì¤‘ì‹¬ì„ ì›ì ìœ¼ë¡œ ì •ë ¬
  model.position.sub(center);

  // âœ… 4. ì”¬ì— ì¶”ê°€
  scene.add(model);

  // âœ… 5. ì¹´ë©”ë¼ ìœ„ì¹˜ = ëª¨ë¸ í¬ê¸°ì— ë¹„ë¡€í•œ ê±°ë¦¬
  const distance = size.length() * 1.5;
  camera.position.set(0, 0, 50);
  camera.lookAt(0, 0, 0);

  // âœ… 6. OrbitControls ê¸°ì¤€ ì¤‘ì‹¬ë„ ë™ì¼í•˜ê²Œ ë§ì¶”ê¸°
  controls.target.set(0, 0, 0);
  controls.update();

  function animate() {
    requestAnimationFrame(animate);
    controls.update();
    renderer.render(scene, camera);
  }

  animate();
});
</script>



<script>


  // ì¸ë„¤ì¼ í´ë¦­ â†’ ì´ë¯¸ì§€ ë°”ê¾¸ê¸°
  function changeImage(element, targetID) {
    const target = document.getElementById(targetID);
    target.src = element.src;

    // ê¸°ì¡´ active ì œê±°
    document.querySelectorAll(".thumb").forEach(img => img.classList.remove("active"));

    // í´ë¦­ëœ ì¸ë„¤ì¼ active ì¶”ê°€
    element.classList.add("active");
  }

  // í…ìŠ¤ì²˜ í…ìŠ¤íŠ¸ ë§ˆìš°ìŠ¤ / ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
const textureText = document.querySelector('.texture-text');
const bg = textureText.getAttribute('data-bg');
textureText.style.setProperty('--bg-img', `url(${bg})`);

// ğŸ“±ğŸ’» ê³µí†µ: ìŠ¤í¬ë¡¤ ì‹œ ë°°ê²½ ìœ„ì¹˜ ì•„ë˜ â†’ ìœ„ë¡œ
window.addEventListener("scroll", () => {
  const scrollY = window.scrollY;
  const maxScroll = document.body.scrollHeight - window.innerHeight;

  const scrollPercent = (scrollY / maxScroll) * 100;

  // ğŸ¯ ì•„ë˜ â†’ ìœ„ íš¨ê³¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ 100% â†’ 0% ë°©í–¥ìœ¼ë¡œ
  const backgroundY = 100 - scrollPercent * 5;

  textureText.style.backgroundPosition = `center ${backgroundY}%`;
});



const iconWrappers = document.querySelectorAll('.icon-wrapper');

// IntersectionObserver ì„¤ì •
const scrollObserver = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('active');
    } else {
      entry.target.classList.remove('active'); // âœ… ìš”ì†Œê°€ ë‹¤ì‹œ ì‚¬ë¼ì§€ë©´ í´ë˜ìŠ¤ ì œê±°
    }
  });
}, {
  threshold: 0.5 // âœ… 0.9ë³´ë‹¤ 0.5ê°€ ë°˜ì‘ ë” ìì—°ìŠ¤ëŸ¬ì›€
});

// ìš”ì†Œë§ˆë‹¤ ì˜µì €ë²„ ì—°ê²°
iconWrappers.forEach(wrapper => {
  scrollObserver.observe(wrapper);
});

iconWrappers.forEach(wrapper => scrollObserver.observe(wrapper));


  // ìƒì„¸ ì´ë¯¸ì§€ ë²„íŠ¼ í´ë¦­ ì‹œ êµì²´
  function changeDetail(type, buttonElement) {
  const imageMap = {
    scent: {
      on: 'scent_on.png',
      off: 'scent_off.png'
    },
    taste: {
      on: 'taste_on.png',
      off: 'taste_off.png'
    },
    hour: {
      on: 'hour_on.png',
      off: 'hour_off.png'
    }
  };

  // 1. ì„¤ëª… ì´ë¯¸ì§€ ë³€ê²½
  const detailImg = document.getElementById('detail-image');
  const detailImageSrcMap = {
    scent: 'inspire/inspire_scent_explain.png',
    taste: 'inspire/inspire_taste_explain.png',
    hour: 'inspire/inspire_hour_explain.png'
  };
  detailImg.src = detailImageSrcMap[type];

  // 2. ë²„íŠ¼ ì´ë¯¸ì§€ ëª¨ë‘ ì´ˆê¸°í™” (offë¡œ ë˜ëŒë¦¬ê¸°)
  document.querySelectorAll('.detail-btn').forEach(btn => {
    const btnType = btn.getAttribute('data-type');
    btn.src = imageMap[btnType].off;
    btn.classList.remove('selected');
  });

  // 3. í´ë¦­ëœ ë²„íŠ¼ì€ on ì´ë¯¸ì§€ë¡œ ë°”ê¾¸ê¸°
  buttonElement.src = imageMap[type].on;
  buttonElement.classList.add('selected');
}

const options = {
  root: null,
  rootMargin: '0px',
  threshold: 0.5 // 50% ì´ìƒ ë³´ì´ë©´ ë°œë™
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const f1 = document.querySelector(".flutter-1");
    const f2 = document.querySelector(".flutter-2");
    const f3 = document.querySelector(".flutter-3");

    if (entry.isIntersecting) {
      // ì¤‘ì•™ ë“±ì¥
      f1.classList.remove("exit");
      f1.classList.add("enter");
      f2.classList.remove("exit");
      f2.classList.add("enter");
      f3.classList.remove("exit");
      f3.classList.add("enter");
    } else {
      // í™”ë©´ì—ì„œ ì‚¬ë¼ì§ â†’ í‡´ì¥
      f1.classList.remove("enter");
      f1.classList.add("exit");
      f2.classList.remove("enter");
      f2.classList.add("exit");
      f3.classList.remove("enter");
      f3.classList.add("exit");
    }
  });
}, options);

observer.observe(document.querySelector(".box-container"));


  document.querySelectorAll('.card-img').forEach(img => {
    const original = img.src;
    const hover = img.getAttribute('data-hover');
    
    img.closest('.caution-card').addEventListener('mouseenter', () => {
      img.src = hover;
    });

    img.closest('.caution-card').addEventListener('mouseleave', () => {
      img.src = original;
    });
  });


  document.querySelectorAll('.detail-section, .background-container, .flutter-text').forEach(section => {
  const color = section.getAttribute('data-bgcolor');
  const txtcolor = section.getAttribute('data-txtcolor');
  if (color) {
    section.style.setProperty('--bg-color', color);
  }
  if (txtcolor) {
    section.style.setProperty('--txt-color', txtcolor);
  }
  });

  document.querySelectorAll('.card-img').forEach(img => {
  const original = img.src;
  const hover = img.getAttribute('data-hover');

  let isHover = false;

  // PC: hover ë™ì‘
  if (!/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)) {
    img.addEventListener('mouseenter', () => {
      img.src = hover;
    });
    img.addEventListener('mouseleave', () => {
      img.src = original;
    });
  } else {
    // ëª¨ë°”ì¼: í„°ì¹˜ë¡œ í† ê¸€
    img.addEventListener('click', () => {
      isHover = !isHover;
      img.src = isHover ? hover : original;
    });
  }
});


</script>
</body>
</html>